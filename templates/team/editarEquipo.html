{% extends 'base.html' %}

{% block title %}
Ver equipo
{% endblock %}

{% block content %}
<div class="flex-container column-container">
    <div class="base-container flex-container workshop-edit">
            <div class="workshop-icon-edit flex-container center-content">
                <i class="fas fa-bullseye"></i>
            </div>
            <div class="workshop-edit-info flex-container">
                <div class="workshop-edit-part1 flex-container ">
                    
                    <div class="workshop-edit-part2 flex-container column-container">
                        <div class="workshop-edit-title flex-container">
                            {{ equipo.sport }} 
                        </div>
                        <div class="workshop-column flex-container form-edit">
                            <label for="">Rama:</label> 
                            <input type="text" name="" id="" value="{{ equipo.branch }}" disabled>
                        </div>
                        <div class="workshop-column flex-container form-edit">
                            <label for="">Horario:</label> 
                            <input type="text" name="" id="" value="{{ equipo.schedule }}" disabled>
                        </div>
                        <!-- <div class="workshop-column flex-container form-edit">
                            <label for="">Cupo m√°ximo:</label> 
                            <input type="text" name="" id="" value="{{ equipo.maxMembers }}" disabled>
                        </div> -->
                    </div>
                    <div class="workshop-edit-part2 flex-container column-container form-edit" style="width: 45%;">
                        <div class="workshop-edit-title flex-container">
                        </div>
                        <div class="workshop-column flex-container form-edit" style="padding: 0rem !important;">
                            <label for="">Responsable:</label> 
                            <input type="text" name="" style="width: auto;" value="{{ equipo.responsible }}" disabled>
                        </div>
                    </div>
                    <div class="workshop-edit-part3 flex-container center-content column-container">
                        <h2>Acciones:</h2>
                        <input type="button" class="dark-green greenHover" id="btn-edit" value="Editar equipo">
                        <input type="button" class="light-red redHover" value="Eliminar equipo">
                    </div>
                </div>
            </div>          
    </div>
</div>
<div class="container-workshop-options flex-container">
    <div class="container-workshop-list flex-container">
        <div class="workshop-section flex-container p-1rem">
            <div class="workshop-list flex-container column-container width-100">
                <div class="flex-container width-100 m-botton-20">
                    <div class="width-50 flex-container">
                        <h2 style="font-weight: 500;">Alumnos inscritos:</h2>
                    </div>
                    <div class="width-50 flex-container right-content">
                        <button class="btn-option dark-green" id="addmember">Agregar alumno</button>
                    </div>
                </div>
                    <div style="overflow-y: scroll;"></div>
                        <table style="text-align: center;">
                            
                                <tr>
                                    <th>Expediente</th>
                                    <th>Nombre</th>
                                    <th>Correo</th>
                                    <th>Asistencias</th>
                                    <th>Absuelto</th>
                                    <th>Acciones</th>
                                </tr>
                                {% for miembro in miembros %}
                                <tr>
                                    <td>{{ miembro.expediente }}</td>
                                    <td>{{ miembro.first_name }} {{ miembro.last_name }}</td>
                                    <td>{{ miembro.mail }}</td>
                                    <td>{{ miembro.totalAssists }}</td>
                                    <td>{% if miembro.absolved %} Si {% else %} No {% endif %}</td>
                                    <td><Button class="btn-trash" onclick="modalJuan({{ miembro.expediente }})"><i class="fas fa-trash-alt"></i></Button></td>
                                </tr>
                                {% endfor %}
                            </table>
                    </div>
            </div>
        </div>
    </div>
</div>
    
<!-- MODAL -->
<div class="modal-background flex-container" id="modal-addmember">
    <div class="modal-content flex-container p-top2">
            <h2>Editar equipo</h2>
        <form action="{% url 'registrarAlumnoE' %}" class="form-group-modal center-content" method='POST'>
            {% csrf_token %}
            {{ addMemberForm.as_p }}
            <input type="hidden" name="next" value="{{ request.path }}">
            <input type="submit" value="Registrar" class="dark-green" id="modal-btn1">
        </form>

        <button id="closeadd">Cancelar</button>
    </div>
</div>

<!-- MODAL -->
<div class="modal-background flex-container" id="modal-workshop">
    <div class="modal-content flex-container p-top2">
            <h2>Editar equipo</h2>
        <form action="{% url 'actualizarEquipo' equipo.id%}" class="form-group" method="POST">
            {% csrf_token %}
            {{ updateForm.as_p }}
            <input type="submit" value="Editar" class="dark-green" id="modal-btn1">
        </form>
        <button id="modal-btn2">Cancelar</button>
    </div>
</div>
    
{% endblock %}

